<?php
include("./checkSessiton.php");
?>
<div class="container-fluid">
    <div class="page-header">
        <div class="row">
            <div class="col-lg-6 main-header">
                <h2>SELECT<span>WORM </span></h2>
                <h6 class="mb-0">ซีเล็คเวิร์ม</h6>
            </div>
            <div class="col-lg-6 breadcrumb-right">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.php"><i class="pe-7s-home"></i></a></li>
                    <li class="breadcrumb-item active">Dashboard</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<!-- Container-fluid starts-->
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 xl-100">
            <div class="row ecommerce-chart-card">
                <div class="col-xl-3 xl-50 col-md-6 box-col-6">
                    <div class="card gradient-primary o-hidden">
                        <div class="card-body tag-card">
                            <div class="ecommerce-chart">
                                <div class="media ecommerce-small-chart">
                                    <div class="small-bar">
                                        <div class="small-chart1 flot-chart-container">
                                            <div class="chartist-tooltip"></div><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="120" height="80" class="ct-chart-bar" style="width: 120px; height: 80px;">
                                                <g class="ct-grids"></g>
                                                <g>
                                                    <g class="ct-series ct-series-a">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="75" y2="63" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="75" y2="48" class="ct-bar" ct:value="900" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="75" y2="51" class="ct-bar" ct:value="800" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="75" y2="54" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                    <g class="ct-series ct-series-b">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="63" y2="33" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="48" y2="33" class="ct-bar" ct:value="500" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="51" y2="33" class="ct-bar" ct:value="600" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="54" y2="33" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                </g>
                                                <g class="ct-labels"></g>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="sale-chart">
                                        <div class="media-body m-l-40">
                                            <h4 class="f-w-100 m-l-10" id="paymentToDay">0</h4>
                                            <h6 class="mb-0 f-w-700 m-l-10">ยอดขายวันนี้</h6>
                                        </div>
                                    </div>
                                </div>
                            </div><span class="tag-hover-effect"><span class="dots-group"><span class="dots dots1"></span><span class="dots dots2 dot-small"></span><span class="dots dots3 dot-small"></span><span class="dots dots4 dot-medium"></span><span class="dots dots5 dot-small"></span><span class="dots dots6 dot-small"></span><span class="dots dots7 dot-small-semi"></span><span class="dots dots8 dot-small-semi"></span><span class="dots dots9 dot-small"> </span></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 xl-50 col-md-6 box-col-6">
                    <div class="card gradient-secondary o-hidden">
                        <div class="card-body tag-card">
                            <div class="ecommerce-chart">
                                <div class="media ecommerce-small-chart">
                                    <div class="small-bar">
                                        <div class="small-chart2 flot-chart-container">
                                            <div class="chartist-tooltip"></div><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="120" height="80" class="ct-chart-bar" style="width: 120px; height: 80px;">
                                                <g class="ct-grids"></g>
                                                <g>
                                                    <g class="ct-series ct-series-a">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="75" y2="63" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="75" y2="48" class="ct-bar" ct:value="900" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="75" y2="51" class="ct-bar" ct:value="800" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="75" y2="54" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                    <g class="ct-series ct-series-b">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="63" y2="33" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="48" y2="33" class="ct-bar" ct:value="500" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="51" y2="33" class="ct-bar" ct:value="600" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="54" y2="33" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                </g>
                                                <g class="ct-labels"></g>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="sale-chart">
                                        <div class="media-body m-l-40">
                                            <h4 class="f-w-100 m-l-10" id="productTotal">0</h4>
                                            <h6 class="mb-0 f-w-700 m-l-10">สินค้าคงเหลือ</h6>
                                        </div>
                                    </div>
                                </div>
                            </div><span class="tag-hover-effect"><span class="dots-group"><span class="dots dots1"></span><span class="dots dots2 dot-small"></span><span class="dots dots3 dot-small"></span><span class="dots dots4 dot-medium"></span><span class="dots dots5 dot-small"></span><span class="dots dots6 dot-small"></span><span class="dots dots7 dot-small-semi"></span><span class="dots dots8 dot-small-semi"></span><span class="dots dots9 dot-small"> </span></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 xl-50 col-md-6 box-col-6">
                    <div class="card gradient-warning o-hidden">
                        <div class="card-body tag-card">
                            <div class="ecommerce-chart">
                                <div class="media ecommerce-small-chart">
                                    <div class="small-bar">
                                        <div class="small-chart3 flot-chart-container">
                                            <div class="chartist-tooltip"></div><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="120" height="80" class="ct-chart-bar" style="width: 120px; height: 80px;">
                                                <g class="ct-grids"></g>
                                                <g>
                                                    <g class="ct-series ct-series-a">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="75" y2="63" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="75" y2="48" class="ct-bar" ct:value="900" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="75" y2="51" class="ct-bar" ct:value="800" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="75" y2="54" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                    <g class="ct-series ct-series-b">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="63" y2="33" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="48" y2="33" class="ct-bar" ct:value="500" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="51" y2="33" class="ct-bar" ct:value="600" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="54" y2="33" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                </g>
                                                <g class="ct-labels"></g>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="sale-chart">
                                        <div class="media-body m-l-40">
                                            <h4 class="f-w-100 m-l-10" id="userTotal">0</h4>
                                            <h6 class="mb-0 f-w-700 m-l-10">พนักงานทั้งหมด</h6>
                                        </div>
                                    </div>
                                </div>
                            </div><span class="tag-hover-effect"><span class="dots-group"><span class="dots dots1"></span><span class="dots dots2 dot-small"></span><span class="dots dots3 dot-small"></span><span class="dots dots4 dot-medium"></span><span class="dots dots5 dot-small"></span><span class="dots dots6 dot-small"></span><span class="dots dots7 dot-small-semi"></span><span class="dots dots8 dot-small-semi"></span><span class="dots dots9 dot-small"> </span></span></span>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 xl-50 col-md-6 box-col-6">
                    <div class="card gradient-info o-hidden">
                        <div class="card-body tag-card">
                            <div class="ecommerce-chart">
                                <div class="media ecommerce-small-chart">
                                    <div class="small-bar">
                                        <div class="small-chart4 flot-chart-container">
                                            <div class="chartist-tooltip"></div><svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="120" height="80" class="ct-chart-bar" style="width: 120px; height: 80px;">
                                                <g class="ct-grids"></g>
                                                <g>
                                                    <g class="ct-series ct-series-a">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="75" y2="63" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="75" y2="48" class="ct-bar" ct:value="900" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="75" y2="51" class="ct-bar" ct:value="800" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="75" y2="54" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="75" y2="45" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                    <g class="ct-series ct-series-b">
                                                        <line x1="17.916666666666668" x2="17.916666666666668" y1="63" y2="33" class="ct-bar" ct:value="1000" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="31.488095238095237" x2="31.488095238095237" y1="48" y2="33" class="ct-bar" ct:value="500" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="45.0595238095238" x2="45.0595238095238" y1="51" y2="33" class="ct-bar" ct:value="600" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="58.63095238095238" x2="58.63095238095238" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="72.20238095238095" x2="72.20238095238095" y1="54" y2="33" class="ct-bar" ct:value="700" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                        <line x1="85.77380952380953" x2="85.77380952380953" y1="45" y2="33" class="ct-bar" ct:value="400" style="stroke-width: 5px ; stroke-linecap: round"></line>
                                                    </g>
                                                </g>
                                                <g class="ct-labels"></g>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="sale-chart">
                                        <div class="media-body m-l-40">
                                            <h4 class="f-w-100 m-l-10" id="zoneTotal">0</h4>
                                            <h6 class="mb-0 f-w-700 m-l-10">จำนวนที่กำลังผลิต</h6>
                                        </div>
                                    </div>
                                </div>
                            </div><span class="tag-hover-effect"><span class="dots-group"><span class="dots dots1"></span><span class="dots dots2 dot-small"></span><span class="dots dots3 dot-small"></span><span class="dots dots4 dot-medium"></span><span class="dots dots5 dot-small"></span><span class="dots dots6 dot-small"></span><span class="dots dots7 dot-small-semi"></span><span class="dots dots8 dot-small-semi"></span><span class="dots dots9 dot-small"> </span></span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-12 xl-100 box-col-12">
            <div class="card">
                <div class="card-header">
                    <h5>ยอดขายรายปี </h5>
                </div>
                <div class="card-body p-0">
                    <div id="column-chart-payment-year"></div>
                </div>
            </div>
        </div>

        <div class="col-xl-12 xl-100 box-col-12">
            <div class="card">
                <div class="card-header">
                    <h5>ยอดขายรายเดือน </h5>
                </div>
                <div class="card-body p-0">
                    <div id="column-chart-payment-month"></div>
                </div>
            </div>
        </div>


        <div class="col-xl-12 xl-100 box-col-12">
            <div class="card">
                <div class="card-header">
                    <h5>จำนวนที่ผลิตปุ๋ยมูลไส้เดือนรายเดือน </h5>
                </div>
                <div class="card-body p-0">
                    <div id="column-chart-stock-month"></div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    $.ajax({
        url: `action/ac_dashboard.php?ac=getPaymentToDay`,
        type: "GET",
        success: function(res) {
            let {
                status,
                data
            } = JSON.parse(res);
            if (status) {
                $("#paymentToDay").text(data[0].total_payment)
            } else {
                $("#paymentToDay").text("0")
            }

        }
    })


    $.ajax({
        url: `action/ac_dashboard.php?ac=getProductTotal`,
        type: "GET",
        success: function(res) {
            let {
                status,
                data
            } = JSON.parse(res);
            console.log(data)
            if (status) {
                $("#productTotal").text(data[0].total_product)
            } else {
                $("#productTotal").text("0")
            }

        }
    })


    $.ajax({
        url: `action/ac_dashboard.php?ac=getUserTotal`,
        type: "GET",
        success: function(res) {
            let {
                status,
                data
            } = JSON.parse(res);
            console.log(data)
            if (status) {
                $("#userTotal").text(data)
            } else {
                $("#userTotal").text("0")
            }

        }
    })


    $.ajax({
        url: `action/ac_dashboard.php?ac=getZoneTotal`,
        type: "GET",
        success: function(res) {
            let {
                status,
                data
            } = JSON.parse(res);
            if (status) {
                $("#zoneTotal").text(data)
            } else {
                $("#zoneTotal").text("0")
            }

        }
    })
</script>